PROJECT(k3d-qtui)

SET(LIBRARY_OUTPUT_PATH ${k3d_BINARY_DIR}/${K3D_LIBDIR}/k3d/uiplugins)

INCLUDE_DIRECTORIES(${k3d_SOURCE_DIR})
INCLUDE_DIRECTORIES(${k3dsdk_BINARY_DIR})
INCLUDE_DIRECTORIES(${K3D_BOOST_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${K3D_GLIBMM_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${K3D_SIGC_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(${QT_INCLUDES})

QT4_WRAP_CPP(MOC_BUILT_SOURCES user_interface.h)

LINK_DIRECTORIES(${K3D_BOOST_LIB_DIRS})
LINK_DIRECTORIES(${K3D_SIGC_LIB_DIRS})

ADD_LIBRARY(k3d-qtui SHARED user_interface.h user_interface.cpp ${MOC_BUILT_SOURCES})
SET_TARGET_PROPERTIES(k3d-qtui PROPERTIES PREFIX "" SUFFIX ".module")

TARGET_LINK_LIBRARIES(k3d-qtui k3dsdk)
TARGET_LINK_LIBRARIES(k3d-qtui ${K3D_BOOST_PROGRAM_OPTIONS_LIBS})
TARGET_LINK_LIBRARIES(k3d-qtui ${QT_QTCORE_LIBRARY})
TARGET_LINK_LIBRARIES(k3d-qtui ${QT_QTGUI_LIBRARY})
TARGET_LINK_LIBRARIES(k3d-qtui ${QT_QTOPENGL_LIBRARY})

INSTALL(TARGETS k3d-qtui
	RUNTIME DESTINATION ${K3D_LIBDIR}/k3d/uiplugins
	LIBRARY DESTINATION ${K3D_LIBDIR}/k3d/uiplugins
	)

