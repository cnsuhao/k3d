INCLUDE ( FindCUDA.cmake )

WRAP_CUDA(CUDA_SOURCES cuda_entry_points.cu)

GET_CUDA_INC_DIRS ( CUDA_INCLUDE_DIRECTORIES )

INCLUDE_DIRECTORIES(${CUDA_INCLUDE_DIRECTORIES})

SET(CUDA_LIBS ${CUDA_LIBRARIES} ${CUDA_UTIL_LIBRARY})

K3D_BUILD_CUDA_MODULE(k3d-cuda)
K3D_CREATE_MODULE_PROXY(k3d-cuda)

TARGET_LINK_LIBRARIES(k3d-cuda ${CUDA_LIBS})

# disable RPATH since it prevents the emulation mode from working correctly
IF (CUDA_EMULATION)
    SET_TARGET_PROPERTIES ( k3d-cuda-bitmap PROPERTIES SKIP_RPATH "ON" )
ENDIF (CUDA_EMULATION)


