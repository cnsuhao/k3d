FILE(GLOB SVG_FILES *.svg)
INSTALL(FILES ${SVG_FILES} DESTINATION share/k3d/ngui/scalable)

FOREACH(SVG_FILE ${SVG_FILES})
	GET_FILENAME_COMPONENT(SVG_NAME ${SVG_FILE} NAME_WE)
	SET(PNG_FILE "${share_SOURCE_DIR}/ngui/rasterized/${SVG_NAME}.png")
	LIST(APPEND PNG_FILES ${PNG_FILE})

	ADD_CUSTOM_COMMAND(
		DEPENDS ${SVG_FILE}
		OUTPUT ${PNG_FILE}
		COMMAND rsvg ${SVG_FILE} ${PNG_FILE}
		)
ENDFOREACH(SVG_FILE)

MESSAGE(STATUS "${PNG_FILES}")

ADD_CUSTOM_TARGET(rasterize-svg-resources
	DEPENDS ${PNG_FILES}
	)

